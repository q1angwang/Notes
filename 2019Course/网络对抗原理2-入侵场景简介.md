# 网络对抗2-入侵场景简介



## 学习方法：

提问，问自己

所学的技术，是跟着工作场景变化而变化的。 

知识 技能
出一个技术方案(防御/攻击) 其实是面对场景的
 
(毕设)巡检验证系统 目标 面临什么问题 需要什么方法 技术 

输入 输出 各自是什么 解决什么问题

场景：
    分布式解决问题
    小黑屋、烟雾缭绕
场景！再具体来看


//下节课讲漏洞使用经验


陷入到知识上，如
bool time base union

但教学中 与 实际体验，是有区别的

学会某个技能(教你摸得着，怎么干就可以了) 知识都可以看到




## 入侵场景简介-概述

### 目标：

控制业务(删帖子 毛羊)、拿下服务器、拿到用户数据

有效的目标达成

`2_渗透场景_图.pdf`中绿的部分 组合后达到大目标

乌云上给的场景有很多，可以去学习

//了解为什么要学 学到什么程度



### 出度(防范)-入度(保护)

出度高的点：一旦沦陷 出现大问题

入度高：可能比较脆弱 难防守度点 容易出问题 

两个都要重点保护

//渗透场景可以横着看









### 服务器权限

服务端的东西 权限是广义上的权限

webshell——>ssh
攻击持久化

线路的漫游 与工作见到的场景相关了

可能考题：解释一些场景 服务器权限这张图





### 文件写入

场景：
a搭时认为是内网做同步 rsync服务，服务期间不设密码
b申请了外网ip
遗留了问题 分配ip后所有端口对外网开放了

默认让你设密码的软件还算好的：mysql会 mangdb redis不会

memory cache 空密码
分布式缓存
反射放大攻击 搜索 小key换大value
ddos对抗



### 系统权限

刷库 - \\
爆破 - - \\ _ 弱密码
社工 - - /
钓鱼 - /

口令 出过优秀博士论文
缩写123 降维(度) 生日 家人 得到密码库 





### 数据

业务权限 对应的数据
应用权限 出度入度都非常大的地方

只读权限漏洞
鉴权 读别人数据
在线信息系统 早期都会存在电商问题
水平权限漏洞
改地址id

漏洞对数据的影响
rce漏洞能导致服务器沦陷





### 文件读取
代码通过rsync同步
对源码挖掘 得到更多信息

log去同步 日志做文件读取



开放目录访问 // .././././/.../
泄漏了

数据库保护好了 但开发在调试时 把所有的用户数据达到日志了 且没关
本来是错误 刚好出现了开放目录访问
权限联系起来 刚好被黑客看到。。。




### 业务权限 

在上层达到目标


垂直权限漏洞
功能级访问控制缺失


水平漏洞 看收货地址 删除键 删除的id改了

权限在哪？session

xss 带牌子 拿到牌子的比喻

服务端的验证session逻辑
结合起来！ 数据里拿到了session sql注入第一次获得权限 后面就可以干别的事情了





### 业务账号
针对账号的攻击
验证码的缺陷 分享一个文章




//csrf 面试时 学的浮躁的 说的乱七八糟
没控制数据服务器 也没用户权限情况下 干我想干的事

猥琐

写代码时开发难注意到

业务上会存在csrf的影响







# 上面是场景
讲下条件：
# 网络可达

//下下节课 扫描和嗅探 网络扫描

接口 试接口与给你接口文档对比，哪个效率高？

文件->源码

路径；是入侵场景
迷宫 落在图里 熟练掌握


下节课：讲讲使用上 漏洞原理一点点
作业：webgoat
